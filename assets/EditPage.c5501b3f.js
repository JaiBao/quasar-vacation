import{S as m,aL as p,U as y,W as g,X as f,d as a,Z as V,aO as x,Y as u,Q as _,aN as c,b0 as b}from"./index.ced92e3a.js";import{Q as n}from"./QInput.8cef55b1.js";import"./use-key-composition.c2cf60ea.js";const h={class:"column justify-center items-center q-mt-md"},w=["src"],C={__name:"EditPage",setup(U){const r=m(),s=p(),o=y({name:s.name,account:s.account,phone:s.phone,password:""}),d=async()=>{try{const{data:l}=await c.get("/users");o.name=l.result.name,o.account=l.result.account,o.phone=l.result.phone,r.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"\u53D6\u5F97\u6210\u529F"})}catch(l){console.log(l)}},i=async()=>{try{console.log(),await c.patch(`/users/${s._id}`,o),await r.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"\u4FEE\u6539\u6210\u529F"})}catch(l){r.notify({color:"red-4",textColor:"white",icon:"info",message:l.message})}};return d(),(l,t)=>(g(),f("div",h,[a(x,{size:"200px",color:"secondary","text-color":"white",class:"q-mb-xl"},{default:V(()=>[u("img",{src:`https://source.boringavatars.com/beam/${b(s).account}?colors=058789,503d2e,d54b1a,e3a72f,f0ecc9`},null,8,w)]),_:1}),a(n,{outlined:"",type:"text",modelValue:o.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e),label:"\u59D3\u540D","lazy-rules":"",rules:[e=>e&&e.length>=2||"\u8ACB\u8F38\u5165\u5168\u540D"]},null,8,["modelValue","rules"]),a(n,{outlined:"",type:"text",modelValue:o.account,"onUpdate:modelValue":t[1]||(t[1]=e=>o.account=e),label:"\u5E33\u865F","lazy-rules":"",rules:[e=>e&&e.length>=4||"\u6700\u5C114\u4F4D\u6578\u4EE5\u4E0A"]},null,8,["modelValue","rules"]),a(n,{outlined:"",type:"password",modelValue:o.password,"onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),label:"\u5BC6\u78BC","lazy-rules":""},null,8,["modelValue"]),a(n,{outlined:"",type:"text",modelValue:o.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>o.phone=e),label:"\u624B\u6A5F","lazy-rules":"",rules:[e=>e&&e.length>=10||"\u8ACB\u8F38\u5165\u6B63\u78BA\u624B\u6A5F\u865F\u78BC"]},null,8,["modelValue","rules"]),u("div",null,[a(_,{label:"\u5132\u5B58",type:"submit",color:"primary",onClick:t[4]||(t[4]=e=>i())})])]))}};export{C as default};
